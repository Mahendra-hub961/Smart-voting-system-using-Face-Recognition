<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Verify OTP - Smart Voting System</title>

    <link rel="stylesheet" href="/static/gov.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">

    <style>
        body {
            min-height: 100vh;
            margin: 0;
            background:
                linear-gradient(rgba(0,0,0,0.45), rgba(0,0,0,0.45)),
                url("/static/images/biometric_bg.png") no-repeat center center fixed;
            background-size: cover;
            font-family: "Segoe UI", sans-serif;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.88);
            backdrop-filter: blur(10px);
            border-radius: 12px;
        }
    </style>
</head>

<body>

<div class="container mt-4">

    <!-- GOVERNMENT HEADER -->
    <div class="gov-header d-flex align-items-center mb-3">
        <img src="/static/logo.png" class="gov-logo">
        <div class="ms-2">
            <h1 class="gov-title mb-0">Smart Voting System</h1>
            <p class="gov-sub mb-0">Government of India</p>
        </div>
    </div>

    <!-- TRI COLOR BAR -->
    <div class="gov-tricolor mb-4">
        <div class="stripe saffron"></div>
        <div class="stripe white"></div>
        <div class="stripe green"></div>
    </div>

    <!-- OTP CARD -->
    <div class="card glass-card p-4 mx-auto shadow" style="max-width:500px;">

        <h4 class="text-center mb-3">OTP Verification</h4>

        <p class="text-center text-muted">
            Enter the 6-digit OTP sent to your registered contact
        </p>

        {% if error %}
        <div class="alert alert-danger">{{ error }}</div>
        {% endif %}

        <form method="POST" action="/verify_otp">

            <input type="hidden" name="email" value="{{ email }}">

            <!-- OTP INPUT -->
            <div class="mb-4">
                <label class="form-label text-center w-100">
                    Enter 6-digit OTP
                </label>
                <input type="text"
                       class="form-control text-center fs-5"
                       name="otp"
                       maxlength="6"
                       pattern="[0-9]{6}"
                       placeholder="••••••"
                       required>
            </div>

            <button class="btn btn-primary w-100">
                Verify OTP
            </button>

        </form>
    </div>
</div>

<script>
function speak(text) {
    speechSynthesis.cancel();
    const msg = new SpeechSynthesisUtterance(text);
    msg.lang = "en-US";
    msg.rate = 0.95;
    msg.pitch = 0.8;
    speechSynthesis.speak(msg);
}

window.onload = () => {
    speak("Please enter the six digit OTP sent to your registered contact.");
};
</script>

</body>
</html>
